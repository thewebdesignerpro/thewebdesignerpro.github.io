/**
 * author Armstrong "Army" Chiu
 * URL: https://thewebdesignerpro.com/     
 */
 
import*as e from"three";import t from"three/addons/capabilities/WebGL.js";import{OBJLoader as a}from"three/addons/loaders/OBJLoader.js";let idleTO=120,florY=-100,ceilY=140,camera,scene,renderer,clock,grups=[],isMobil=!1,mouseX=0,mouseY=-50,mixer,ui={},_={},x={};if(t.isWebGL2Available())window.addEventListener?window.addEventListener("load",init,!1):window.attachEvent?window.attachEvent("onload",init):window.onload=init;else{let o=t.getWebGL2ErrorMessage();kontainer.appendChild(o),kontainer.style.background="url('img/thewebdesignerprol.jpg') center top no-repeat",kontainer.style.backgroundSize="cover",fader.style.opacity=0,fader.style.display="none",fader.parentNode.removeChild(fader),cL(loadr,0,"paus"),loadr.style.display="none",loadr.parentNode.removeChild(loadr)}function eL(e,t,a,o){0==t?e.addEventListener(a,o,!1):e.removeEventListener(a,o,!1)}function cL(e,t,a){0==t?e.classList.contains(a)||e.classList.add(a):e.classList.contains(a)&&e.classList.remove(a)}function init(){function t(e){return document.getElementById(e)}ui.kontainer=t("kontainer"),ui.loadr=t("loadr"),ui.fader=t("fader"),ui.fader.style.opacity=1;let a=document.createElement("div");if(a.setAttribute("id","dummy"),document.body.appendChild(a),(isMobil="9000px"!=window.getComputedStyle(a,null).getPropertyValue("left"))&&(document.addEventListener("gesturechange",function(e){e.preventDefault()},!1),ui.kontainer.addEventListener("gesturechange",function(e){e.preventDefault()},!1),_.prevW=_.prevH=0),a.parentNode.removeChild(a),_.width=window.innerWidth,_.height=window.innerHeight,document.body.style.width=ui.kontainer.style.width=_.width+"px",document.body.style.height=ui.kontainer.style.height=_.height+"px",ui.kontainer.style.backgroundColor="#15191b",(renderer=new e.WebGLRenderer({antialias:!0,alpha:!1})).setPixelRatio(window.devicePixelRatio),renderer.setSize(_.width,_.height),renderer.setClearColor(1382683,1),renderer.shadowMap.enabled=!0,renderer.shadowMap.type=e.PCFSoftShadowMap,renderer.outputColorSpace=e.LinearSRGBColorSpace,renderer.sortObjects=!1,ui.kontainer.appendChild(renderer.domElement),!1===renderer.capabilities.isWebGL2&&!renderer.extensions.get("OES_texture_float"))throw alert("OES_texture_float not supported"),"missing webgl extension";if(!1===renderer.capabilities.isWebGL2&&!renderer.extensions.get("OES_texture_float_linear"))throw alert("OES_texture_float_linear not supported"),"missing webgl extension";(scene=new e.Scene).fog=new e.FogExp2(1382683,2e-4),(camera=new e.PerspectiveCamera(50,_.width/_.height,.5,1e4)).position.set(0,400,600),scene.add(camera),scene.add(new e.AmbientLight(3158064)),x.spotLcone=[],x.spotLight=[],x.spotLight[0]=new e.SpotLight(16777215,2e7,5e3,Math.PI/6,1),x.spotLight[0].position.set(0,1500,0),x.spotLight[0].castShadow=!0,x.spotLight[0].shadow.mapSize.width=128,x.spotLight[0].shadow.mapSize.height=128,x.spotLight[0].shadow.camera.near=10,x.spotLight[0].shadow.camera.far=5e3,x.spotLight[0].shadow.camera.fov=40,scene.add(x.spotLight[0]),eL(window,1,"load",init),eL(window,0,"resize",onWindowResize),(clock=new e.Clock).autoStart=!1,grups[0]=new e.Group,_.mouse=new e.Vector2,_.entro=!0,_.idleTimer=0,_.fokus=!0,_.pointer=new e.Vector2,_.ptrDown=!1,x.currGrup=0,x.targetO=new e.Object3D,x.targetO.position.set(0,40,-300),scene.add(x.targetO),x.spotLight[0].target=x.targetO,addSkybox(),addFloor(),addWall(),addPC(),addKeyboard(),addMouse(),addSpeakers(),addHeadphones(),addMic(),addModem(),onWindowResize()}function addSkybox(){let t=new e.CubeTextureLoader;t.setPath("img/skybox/2/"),t.load(["posx.jpg","negx.jpg","posy.jpg","negy.jpg","posz.jpg","negz.jpg"],function(t){t.colorSpace=e.LinearSRGBColorSpace,x.skybox=t,addTable(),addMonitor(),addGlasses(),addPhone(),addCup(),addChair()})}function addFloor(){x.floor=[];let t=new e.PlaneGeometry(2e3,1e3,1,1),a=new e.MeshStandardMaterial({color:5658198,roughness:1,metalness:0});a.transparent=!0;for(let o=0;o<1;o++)x.floor[o]=new e.Mesh(t,a),x.floor[o].position.set(0,-100,0),x.floor[o].rotation.x=-(Math.PI/2),grups[0].add(x.floor[o]);var r=new e.TextureLoader,n=new e.TextureLoader,i=new e.TextureLoader;new e.TextureLoader,r.load("img/concrete/1/color1.jpg",function(t){t.wrapS=t.wrapT=e.RepeatWrapping,t.repeat.set(2,1);for(let a=0;a<1;a++)x.floor[a].material.map=t,x.floor[a].material.needsUpdate=!0}),n.load("img/concrete/1/normal1.jpg",function(t){t.wrapS=t.wrapT=e.RepeatWrapping,t.repeat.set(2,1);for(let a=0;a<1;a++)x.floor[a].material.normalScale.set(-1,-1),x.floor[a].material.normalMap=t,x.floor[a].material.needsUpdate=!0}),i.load("img/concrete/1/rough2.jpg",function(t){t.wrapS=t.wrapT=e.RepeatWrapping,t.repeat.set(2,1);for(let a=0;a<1;a++)x.floor[a].material.roughnessMap=t,x.floor[a].material.needsUpdate=!0});let s=new e.PlaneGeometry(2e3,1e3);s.rotateX(-Math.PI/2);let d=new e.ShadowMaterial;d.opacity=.67;let l=new e.Mesh(s,d);l.position.set(0,-99,0),l.receiveShadow=!0,grups[0].add(l),grups[0].position.z=0,scene.add(grups[0])}function addWall(){x.wall=[];let t=new e.PlaneGeometry(2e3,1e3,20,10),a=new e.MeshStandardMaterial({color:7633020,emissive:5601160,roughness:1,metalness:.2});a.transparent=!0,a.flatShading=!0;for(let o=0;o<1;o++)x.wall[o]=new e.Mesh(t,a),x.wall[o].position.set(0,400,-500),x.wall[o].castShadow=!0,grups[o].add(x.wall[o]);let r=new e.PlaneGeometry(2e3,1e3,20,10),n=new e.ShadowMaterial;n.opacity=.67,n.flatShading=!0,x.wallS=new e.Mesh(r,n),x.wallS.position.set(0,400,-443),x.wallS.receiveShadow=!0,grups[0].add(x.wallS);var i=new e.TextureLoader,s=new e.TextureLoader,d=new e.TextureLoader,l=new e.TextureLoader;i.load("img/metal/1/color1.jpg",function(t){t.wrapS=t.wrapT=e.RepeatWrapping,t.repeat.set(4,2);for(let a=0;a<1;a++)x.wall[a].material.map=t,x.wall[a].material.needsUpdate=!0,fadeScene()}),s.load("img/grid2.png",function(t){t.wrapS=t.wrapT=e.RepeatWrapping,t.repeat.set(20,10);for(let a=0;a<1;a++)x.wall[a].material.emissiveIntensity=1.75,x.wall[a].material.emissiveMap=t,x.wall[a].material.needsUpdate=!0}),d.load("img/metal/1/rough1.jpg",function(t){t.wrapS=t.wrapT=e.RepeatWrapping,t.repeat.set(4,2);for(let a=0;a<1;a++)x.wall[a].material.roughnessMap=t,x.wall[a].material.bumpScale=.8,x.wall[a].material.bumpMap=t,x.wall[a].material.needsUpdate=!0}),l.load("img/noise1.jpg",function(t){t.wrapS=t.wrapT=e.RepeatWrapping,t.repeat.set(2,1);for(let a=0;a<1;a++)x.wall[a].material.displacementScale=x.wallS.material.displacementScale=60,x.wall[a].material.displacementMap=x.wallS.material.displacementMap=t,x.wall[a].material.needsUpdate=x.wallS.material.needsUpdate=!0;let o=x.wall[0].geometry.getAttribute("position"),r=x.wallS.geometry.getAttribute("position");for(let n=22;n<o.count-21;n++)if(n%21!=0&&n%21!=20){let i=o.getX(n)+(100*Math.random()-50),s=o.getY(n)+(100*Math.random()-50),d=o.getZ(n)+(100*Math.random()-50);o.setXYZ(n,i,s,d),r.setXYZ(n,i,s,d)}o.needsUpdate=r.needsUpdate=!0})}function addTable(){x.table=[];let t=new a;t.load("obj/table/1/mesa.obj",function(t){t.traverse(function(e){e.isMesh&&e.geometry.computeBoundingBox()});let a=new e.MeshStandardMaterial({color:12303291,roughness:1,metalness:.5});a.combine=e.MixOperation,a.reflectivity=.5,a.envMap=x.skybox;for(let o=0;o<1;o++)x.table[o]=new e.Mesh(t.children[0].geometry,a),x.table[o].castShadow=!0,x.table[o].receiveShadow=!0,x.table[o].position.set(0,157,-220),x.table[o].scale.set(3,3,3),grups[0].add(x.table[o]);let r=new e.TextureLoader,n=new e.TextureLoader,i=new e.TextureLoader,s=new e.TextureLoader;r.load("obj/table/1/mat/color2.jpg",function(e){x.table[0].material.map=e,x.table[0].material.needsUpdate=!0}),n.load("obj/table/1/mat/rough1.jpg",function(e){x.table[0].material.roughnessMap=e,x.table[0].material.needsUpdate=!0}),i.load("obj/table/1/mat/metal1.jpg",function(e){x.table[0].material.metalnessMap=e,x.table[0].material.needsUpdate=!0}),s.load("obj/table/1/mat/normal1.jpg",function(e){x.table[0].material.normalScale.set(1,1),x.table[0].material.normalMap=e,x.table[0].material.needsUpdate=!0})})}function addPC(){x.pc=[];let t=new a;t.load("obj/pc/1/case1.obj",function(t){t.traverse(function(e){e.isMesh&&e.geometry.computeBoundingBox()});let a=[];a[0]=new e.MeshBasicMaterial({color:3158837}),a[1]=new e.MeshStandardMaterial({color:6184542,roughness:.25,metalness:.1}),a[1].combine=e.MixOperation,a[1].reflectivity=.4,a[1].envMap=x.skybox;for(let o=0;o<2;o++)x.pc[o]=new e.Mesh(t.children[o].geometry,a[o]),x.pc[o].position.set(158,-26,-205),x.pc[o].scale.set(90,90,90),grups[0].add(x.pc[o]);x.pc[1].castShadow=x.pc[1].receiveShadow=!0})}function addMonitor(){x.monitor=[];let t=new a;t.load("obj/monitor/1/monitor1.obj",function(t){t.traverse(function(e){e.isMesh&&e.geometry.computeBoundingBox()});let a=new e.MeshStandardMaterial({color:16777215,roughness:.25,metalness:.2});for(let o=0;o<1;o++)x.monitor[o]=new e.Mesh(t.children[0].geometry,a),x.monitor[o].castShadow=!0,x.monitor[o].receiveShadow=!0,x.monitor[o].position.set(0,158,-265),x.monitor[o].rotation.set(0,-(Math.PI/2),0),x.monitor[o].scale.set(450,450,450),grups[0].add(x.monitor[o]);let r=new e.TextureLoader,n=new e.TextureLoader;r.load("obj/monitor/1/mat/color1.jpg",function(e){x.monitor[0].material.map=e,x.monitor[0].material.needsUpdate=!0}),n.load("obj/monitor/1/mat/rough1.jpg",function(e){x.monitor[0].material.roughnessMap=e,x.monitor[0].material.needsUpdate=!0})});let o=new e.TextureLoader,r=new e.PlaneGeometry(274,154),n=new e.MeshBasicMaterial({color:16777215});n.combine=e.MixOperation,n.reflectivity=.2,n.envMap=x.skybox,x.scr=new e.Mesh(r,n),x.scr.position.set(0,295,-265),grups[0].add(x.scr),o.load("obj/monitor/1/mat/imakscr.jpg",function(e){x.scr.material.map=e,x.scr.material.needsUpdate=!0})}function addKeyboard(){x.keyboard=[];let t=new a;t.load("obj/keyboard/1/keyboard.obj",function(t){t.traverse(function(e){e.isMesh&&e.geometry.computeBoundingBox()});let a=new e.MeshStandardMaterial({color:8421504,roughness:.4,metalness:0});a.emissive.set(15658632);for(let o=0;o<1;o++)x.keyboard[o]=new e.Mesh(t.children[0].geometry,a),x.keyboard[o].castShadow=!0,x.keyboard[o].receiveShadow=!0,x.keyboard[o].position.set(-20,155,-150),x.keyboard[o].rotation.set(.03,0,0),x.keyboard[o].scale.set(20,20,20),grups[0].add(x.keyboard[o]);let r=new e.TextureLoader,n=new e.TextureLoader;new e.TextureLoader,new e.TextureLoader,r.load("obj/keyboard/1/mat/color1.jpg",function(e){x.keyboard[0].material.map=e,x.keyboard[0].material.needsUpdate=!0}),n.load("obj/keyboard/1/mat/emissive1.jpg",function(e){x.keyboard[0].material.emissiveIntensity=1,x.keyboard[0].material.emissiveMap=e,x.keyboard[0].material.needsUpdate=!0})})}function addMouse(){x.mouse=[];let t=new a;t.load("obj/mouse/1/mouse.obj",function(t){t.traverse(function(e){e.isMesh&&e.geometry.computeBoundingBox()});let a=[];a[0]=new e.MeshStandardMaterial({color:3355443,roughness:1,metalness:0}),a[1]=new e.MeshStandardMaterial({color:12829635,roughness:1,metalness:0});for(let o=0;o<2;o++)x.mouse[o]=new e.Mesh(t.children[o].geometry,a[o]),x.mouse[o].castShadow=!0,x.mouse[o].receiveShadow=!0,x.mouse[o].position.set(93,157.5,-145),x.mouse[o].scale.set(3,3,3),grups[0].add(x.mouse[o]);let r=new e.TextureLoader,n=new e.TextureLoader,i=new e.TextureLoader,s=new e.TextureLoader,d=new e.TextureLoader;r.load("obj/mouse/1/mat/color1.jpg",function(e){x.mouse[1].material.map=e,x.mouse[1].material.needsUpdate=!0}),n.load("obj/mouse/1/mat/rough1.jpg",function(e){x.mouse[1].material.roughnessMap=e,x.mouse[1].material.needsUpdate=!0}),i.load("obj/mouse/1/mat/normal1.jpg",function(e){x.mouse[1].material.normalMap=e,x.mouse[1].material.needsUpdate=!0}),s.load("obj/mouse/1/mat/rough2.jpg",function(e){x.mouse[0].material.roughnessMap=e,x.mouse[0].material.needsUpdate=!0}),d.load("obj/mouse/1/mat/normal2.jpg",function(e){x.mouse[0].material.normalMap=e,x.mouse[0].material.needsUpdate=!0})})}function addSpeakers(){x.speaker=[];let t=new a;t.load("obj/speakers/2/speaker.obj",function(t){t.traverse(function(e){e.isMesh&&e.geometry.computeBoundingBox()});let a=new e.MeshStandardMaterial({color:7171437,roughness:.2,metalness:.3});a.combine=e.MixOperation,a.reflectivity=.5,a.envMap=x.skybox;for(let o=0;o<2;o++){x.speaker[o]=new e.Mesh(t.children[0].geometry,a),x.speaker[o].castShadow=!0,x.speaker[o].receiveShadow=!0;let r=-200;1==o&&(r=200),x.speaker[o].position.set(r,156,-285),x.speaker[o].scale.set(400,400,400),grups[0].add(x.speaker[o])}})}function addHeadphones(){x.headphones=[];let t=new a;t.load("obj/headphones/1/headphones.obj",function(t){t.traverse(function(e){e.isMesh&&e.geometry.computeBoundingBox()});let a=[];a[0]=new e.MeshStandardMaterial({color:5263440,roughness:.7,metalness:0}),a[1]=new e.MeshStandardMaterial({color:7370624,roughness:.2,metalness:.15});for(let o=0;o<2;o++)x.headphones[o]=new e.Mesh(t.children[o].geometry,a[o]),x.headphones[o].castShadow=!0,x.headphones[o].receiveShadow=!0,x.headphones[o].position.set(-144,167.5,-155),x.headphones[o].rotation.set(-.22,.28,0),x.headphones[o].scale.set(3.3,3.3,3.3),grups[0].add(x.headphones[o])})}function addMic(){x.mic=[];let t=new a;t.load("obj/mic/1/mic.obj",function(t){t.traverse(function(e){e.isMesh&&e.geometry.computeBoundingBox()});let a=[];a[0]=new e.MeshStandardMaterial({color:16777215,roughness:.8,metalness:0}),a[1]=new e.MeshStandardMaterial({color:7370624,roughness:.25,metalness:0});let o=160,r=-149,n=-184.5;for(let i=0;i<2;i++)x.mic[i]=new e.Mesh(t.children[i].geometry,a[i]),x.mic[i].castShadow=!0,x.mic[i].receiveShadow=!0,1==i&&(o=100,r=-154,n=-183),x.mic[i].position.set(r,175,n),x.mic[i].rotation.set(-(Math.PI/1.05),-.48,.2),x.mic[i].scale.set(o,o,o),grups[0].add(x.mic[i]);let s=new e.TextureLoader,d=new e.TextureLoader;s.load("obj/mic/1/mat/color1.jpg",function(e){x.mic[0].material.map=e,x.mic[0].material.needsUpdate=!0}),d.load("obj/mic/1/mat/normal1.jpg",function(e){x.mic[0].material.normalMap=e,x.mic[0].material.needsUpdate=!0})})}function addModem(){x.modem=[];let t=new a;t.load("obj/modem/1/modem.obj",function(t){t.traverse(function(e){e.isMesh&&e.geometry.computeBoundingBox()});let a=new e.MeshStandardMaterial({color:16777215,roughness:1,metalness:.1});for(let o=0;o<1;o++)x.modem[o]=new e.Mesh(t.children[o].geometry,a),x.modem[o].castShadow=!0,x.modem[o].receiveShadow=!0,x.modem[o].position.set(200,157,-200),x.modem[o].rotation.set(-(Math.PI/2),0,0),x.modem[o].scale.set(300,300,300),grups[0].add(x.modem[o]);let r=new e.TextureLoader,n=new e.TextureLoader,i=new e.TextureLoader;r.load("obj/modem/1/mat/color1.jpg",function(e){x.modem[0].material.map=e,x.modem[0].material.needsUpdate=!0}),n.load("obj/modem/1/mat/rough1.jpg",function(e){x.modem[0].material.roughnessMap=e,x.modem[0].material.needsUpdate=!0}),i.load("obj/modem/1/mat/normal1.jpg",function(e){x.modem[0].material.normalMap=e,x.modem[0].material.needsUpdate=!0})})}function addGlasses(){x.glasses=[];let t=new a;t.load("obj/glasses/1/glasses.obj",function(t){t.traverse(function(e){e.isMesh&&e.geometry.computeBoundingBox()});let a=new e.MeshStandardMaterial({color:6776679,roughness:.3,metalness:0});a.combine=e.MixOperation,a.reflectivity=.5,a.envMap=x.skybox;for(let o=0;o<1;o++)x.glasses[o]=new e.Mesh(t.children[o].geometry,a),x.glasses[o].castShadow=!0,x.glasses[o].receiveShadow=!0,x.glasses[o].position.set(0,-100+258.4,-225),x.glasses[o].rotation.set(-(Math.PI/2)-.14,.11,-.2*Math.PI),x.glasses[o].scale.set(9,9,9),grups[0].add(x.glasses[o])})}function addPhone(){x.phone=[];let t=new a;t.load("obj/phone/1/phone.obj",function(t){t.traverse(function(e){e.isMesh&&e.geometry.computeBoundingBox()});let a=new e.MeshStandardMaterial({color:5592405,roughness:.35,metalness:.1});for(let o=0;o<1;o++)x.phone[o]=new e.Mesh(t.children[o].geometry,a),x.phone[o].castShadow=!0,x.phone[o].receiveShadow=!1,x.phone[o].position.set(-208,159.3,-200),x.phone[o].rotation.set(Math.PI,-.6*Math.PI,0),x.phone[o].scale.set(40,40,40),grups[0].add(x.phone[o]);new e.TextureLoader().load("obj/phone/1/mat/ifon.jpg",function(t){var a=new e.PlaneGeometry(22.4,43),o=new e.MeshBasicMaterial({map:t,transparent:!0,opacity:1});o.combine=e.MixOperation,o.reflectivity=.5,o.envMap=x.skybox,x.ifscr=new e.Mesh(a,o),x.ifscr.rotation.set(-(Math.PI/2),0,.314),x.ifscr.position.set(-208.06,-100+259.4,-200),grups[0].add(x.ifscr)})})}function addCup(){x.cup=[];let t=new a;t.load("obj/cup/1/cup.obj",function(t){t.traverse(function(e){e.isMesh&&e.geometry.computeBoundingBox()});let a=new e.MeshStandardMaterial({color:16777215,roughness:1,metalness:0});for(let o=0;o<1;o++)x.cup[o]=new e.Mesh(t.children[o].geometry,a),x.cup[o].castShadow=!0,x.cup[o].receiveShadow=!0,x.cup[o].position.set(147,157.5,-140),x.cup[o].rotation.set(-(Math.PI/2),0,0),x.cup[o].scale.set(14,14,14),grups[0].add(x.cup[o]);let r=new e.TextureLoader,n=new e.TextureLoader;r.load("obj/cup/1/mat/color1.jpg",function(e){x.cup[0].material.map=e,x.cup[0].material.needsUpdate=!0}),n.load("obj/cup/1/mat/rough1.jpg",function(e){x.cup[0].material.roughnessMap=e,x.cup[0].material.needsUpdate=!0});let i=new e.CircleGeometry(9.35,24),s=new e.MeshPhongMaterial({color:8417296,transparent:!0,opacity:.7});s.combine=e.MixOperation,s.reflectivity=.6,s.envMap=x.skybox;let d=new e.Mesh(i,s);d.rotation.x=-(Math.PI/2),d.position.set(147,180,-140),grups[0].add(d)})}function addChair(){x.chair=[];let t=new a;t.load("obj/chair/1/chair.obj",function(t){t.traverse(function(e){e.isMesh&&e.geometry.computeBoundingBox()});let a=[];a[0]=new e.MeshStandardMaterial({color:8947848,roughness:.6,metalness:0}),a[1]=new e.MeshStandardMaterial({color:16777215,roughness:.1,metalness:.5}),a[1].combine=e.MixOperation,a[1].reflectivity=.5,a[1].envMap=x.skybox;for(let o=0;o<2;o++)x.chair[o]=new e.Mesh(t.children[o].geometry,a[o]),x.chair[o].castShadow=!0,x.chair[o].receiveShadow=!0,x.chair[o].position.set(-100,-100.2,50),x.chair[o].rotation.set(-(Math.PI/2),0,Math.PI/4),x.chair[o].scale.set(6.1,6.1,6.1),grups[0].add(x.chair[o]);let r=new e.TextureLoader,n=new e.TextureLoader,i=new e.TextureLoader;new e.TextureLoader,r.load("obj/chair/1/mat/color1.jpg",function(e){x.chair[0].material.map=e,x.chair[0].material.needsUpdate=!0}),n.load("obj/chair/1/mat/normal1.jpg",function(e){x.chair[0].material.normalMap=e,x.chair[0].material.needsUpdate=!0}),i.load("obj/chair/1/mat/color2.jpg",function(e){x.chair[1].material.map=e,x.chair[1].material.needsUpdate=!0})})}function fadeScene(){onWindowResize(),function e(){let t=parseFloat(ui.fader.style.opacity);(t-=.05)<0?(ui.fader.style.opacity=0,ui.fader.style.display="none",ui.fader.parentNode.removeChild(ui.fader),onWindowResize(),eL(ui.kontainer,0,"pointerdown",onPointerDown),eL(ui.kontainer,0,"pointermove",onPointerMove),animate(),cL(ui.loadr,0,"paus"),ui.loadr.style.display="none",ui.loadr.parentNode.removeChild(ui.loadr)):(ui.fader.style.opacity=t,requestAnimationFrame(e))}()}function onPointerDown(e){e&&e.preventDefault();let t={};e.clientX?(t.x=e.clientX/_.width*2-1,t.y=-(2*(e.clientY/_.height))+1):(t.x=e.x/_.width*2-1,t.y=-(2*(e.y/_.height))+1),_.ptrDown=!0,_.pointer.x=t.x,_.pointer.y=t.y,_.idleTimer=0}function onPointerMove(e){e&&e.preventDefault();let t={};e.clientX?(t.x=e.clientX/_.width*2-1,t.y=-(2*(e.clientY/_.height))+1):(t.x=e.x/_.width*2-1,t.y=-(2*(e.y/_.height))+1),_.pointer.x=t.x,_.pointer.y=t.y,_.idleTimer=0}function wheelE(e){e&&e.preventDefault(),_.idleTimer=0}function onWindowResize(){_.width=window.innerWidth,_.height=window.innerHeight,isMobil&&(_.width==_.prevW&&(_.width=_.prevH,_.height=_.prevW),_.prevW=_.width,_.prevH=_.height),_.widthH=_.width/2,_.heightH=_.height/2,document.body.style.width=ui.kontainer.style.width=_.width+"px",document.body.style.height=ui.kontainer.style.height=_.height+"px",camera.aspect=_.width/_.height,camera.updateProjectionMatrix(),renderer.setSize(_.width,_.height),_.width>_.height?cntnt.style.fontSize=cntnt2.style.fontSize=(_.width+_.height)/2*.022+"px":cntnt.style.fontSize=cntnt2.style.fontSize=(_.width+_.height)/2*.028+"px",_.idleTimer=0}function animate(){if(requestAnimationFrame(animate),_.idleTimer<120){clock.running||clock.start();let e=.001*Date.now();camera.position.x=10*Math.cos(e),camera.position.y=10*Math.sin(2*e),isMobil?(camera.position.x+=500*Math.cos(.5*e),camera.position.y+=500*Math.sin(.25*e)+400):(camera.position.x+=500*_.pointer.x,camera.position.y+=500*_.pointer.y+400),_.idleTimer+=.01,render()}else clock.running&&clock.stop();document.hasFocus()?_.fokus||(_.idleTimer=0,_.fokus=!0):(_.idleTimer=120,_.fokus=!1)}function render(){camera.lookAt(x.targetO.position),renderer.render(scene,camera)} 


	
