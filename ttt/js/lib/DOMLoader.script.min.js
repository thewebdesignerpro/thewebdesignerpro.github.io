"undefined"==typeof DOMLoader&&(DOMLoader={}),DOMLoader.script=function(){return this.loaded={},this.loading={},this},DOMLoader.script.prototype.add=function(config){var that=this,srcs=config.srcs;"undefined"==typeof srcs&&(srcs=[{src:config.src,verify:config.verify}]);var doc=document.getElementsByTagName("head")[0],testElement=function(element,test){that.loaded[element.src]||(!test||eval(test))&&(that.loaded[element.src]=!0,that.loading[element.src]&&that.loading[element.src](),delete that.loading[element.src],element.callback&&element.callback(),"undefined"!=typeof getNext&&getNext())},batchTest=[],addElement=function(e){/([\w\d.\[\]])$/.test(e.verify)&&(e.test="(typeof("+e.verify+') !== "undefined")',batchTest.push(e.test));var t=document.createElement("script");t.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&testElement(e)},t.onload=function(){testElement(e)},t.setAttribute("type","text/javascript"),t.setAttribute("src",e.src),doc.appendChild(t),that.loading[e.src]=function(){}},onLoad=function(element){if(element)testElement(element,element.test);else for(var n=0;n<srcs.length;n++)testElement(srcs[n],srcs[n].test);!config.strictOrder&&eval(batchTest.join(" && "))?config.callback&&config.callback():setTimeout(function(){onLoad(element)},10)};if(config.strictOrder){var ID=-1,getNext=function(){if(ID++,srcs[ID]){var e=srcs[ID],t=e.src;that.loading[t]?that.loading[t]=function(){e.callback&&e.callback(),getNext()}:that.loaded[t]?getNext():(addElement(e),onLoad(e))}else config.callback&&config.callback()};getNext()}else{for(var ID=0;ID<srcs.length;ID++){if(that.loaded[srcs[ID].src])return;addElement(srcs[ID])}onLoad()}},DOMLoader.script=new DOMLoader.script;